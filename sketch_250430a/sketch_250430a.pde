void setup() {
  size(400, 200);         // ウィンドウサイズを幅400、高さ200に設定
  rectMode(CENTER);       // 四角形の描画モードを中心基準に設定
}

void draw() {
  background(255);        // 背景を白にリセット（毎フレーム）

  // ----------- 赤い四角形を描画するブロック -----------
  pushMatrix();                    // 現在の座標変換状態を保存
  translate(100, 100);            // 座標系の原点を (100, 100) に移動
  rotate(radians(frameCount));    // 毎フレーム少しずつ回転（右回り）
  fill(255, 0, 0);                // 塗りつぶし色を赤に設定
  rect(0, 0, 50, 50);             // 原点 (0, 0) を中心に50x50の四角形を描画
  popMatrix();                    // 座標変換状態を元に戻す（次の描画に影響を残さない）

  // ----------- 青い四角形を描画するブロック -----------
  pushMatrix();                    // 座標変換の状態を再度保存（リセットされた状態から）
  translate(300, 100);            // 今度は (300, 100) に原点を移動
  rotate(radians(-frameCount));   // 毎フレーム反対方向に回転（左回り）
  fill(0, 0, 255);                // 塗りつぶし色を青に設定
  rect(0, 0, 50, 50);             // 原点 (0, 0) に四角形を描画
  popMatrix();                    // 座標変換を元に戻す
}
